<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>新生社團推薦問卷</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: #f6f9fc;
      margin: 0;
      padding: 2rem 1rem;
      color: #333;
      box-sizing: border-box;
    }
    .container {
      max-width: 700px;
      margin: auto;
      background: #fff;
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      margin-bottom: 2rem;
      font-weight: 700;
    }
    .question {
      margin-bottom: 2rem;
    }
    .question label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    .options {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }
    .options label {
      flex: 1 1 120px;
      display: flex;
      align-items: center;
      cursor: pointer;
      position: relative;
      user-select: none;
    }
    .options input[type="radio"] {
      appearance: none;
      -webkit-appearance: none;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background-color: #ddd;
      margin-right: 0.5rem;
      transition: transform 0.2s, background-color 0.3s;
      border: 2px solid transparent;
    }
    .options input[type="radio"]:checked {
      background-color: #4f46e5;
      transform: scale(1.3);
      border-color: #312e81;
    }
    /* 多選 checkbox for 社團屬性 */
    .checkbox-group {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 0.5rem;
    }
    .checkbox-group label {
      flex: 1 1 120px;
      cursor: pointer;
      display: flex;
      align-items: center;
      user-select: none;
    }
    .checkbox-group input[type="checkbox"] {
      width: 20px;
      height: 20px;
      margin-right: 0.5rem;
      cursor: pointer;
    }
    .submit-btn {
      display: block;
      margin: 2rem auto 0;
      padding: 0.75rem 2rem;
      font-size: 1.1rem;
      background-color: #4f46e5;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 700;
      transition: background-color 0.3s;
    }
    .submit-btn:hover {
      background-color: #312e81;
    }
    .result {
      display: none;
      margin-top: 2rem;
    }
    .club-card {
      border: 1px solid #ddd;
      border-left: 6px solid #4f46e5;
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1rem;
      background: #fafafa;
    }
    .tags {
      margin: 0.5rem 0;
      font-size: 0.9rem;
      color: #666;
    }
    .score {
      font-weight: bold;
      color: #4f46e5;
    }
    @media (max-width: 480px) {
      .options label, .checkbox-group label {
        flex: 1 1 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>🎯 新生社團推薦問卷</h1>
    <form id="form">
      <!-- 問題 -->
      <div class="question">
        <label>1. 我喜歡與人互動，個性外向 (必選)</label>
        <div class="options">
          <label><input type="radio" name="q1" value="1" required> 非常不同意</label>
          <label><input type="radio" name="q1" value="2"> 不同意</label>
          <label><input type="radio" name="q1" value="3"> 普通</label>
          <label><input type="radio" name="q1" value="4"> 同意</label>
          <label><input type="radio" name="q1" value="5"> 非常同意</label>
        </div>
      </div>
      <div class="question">
        <label>2. 我喜歡團隊合作完成一件事 (必選)</label>
        <div class="options">
          <label><input type="radio" name="q2" value="1" required> 非常不同意</label>
          <label><input type="radio" name="q2" value="2"> 不同意</label>
          <label><input type="radio" name="q2" value="3"> 普通</label>
          <label><input type="radio" name="q2" value="4"> 同意</label>
          <label><input type="radio" name="q2" value="5"> 非常同意</label>
        </div>
      </div>
      <div class="question">
        <label>3. 我喜歡技術相關活動（如剪輯影片、設計、寫程式、網路技術）(必選)</label>
        <div class="options">
          <label><input type="radio" name="q3" value="1" required> 非常不同意</label>
          <label><input type="radio" name="q3" value="2"> 不同意</label>
          <label><input type="radio" name="q3" value="3"> 普通</label>
          <label><input type="radio" name="q3" value="4"> 同意</label>
          <label><input type="radio" name="q3" value="5"> 非常同意</label>
        </div>
      </div>
      <div class="question">
        <label>4. 我喜歡藝術創作與欣賞（繪畫、書法、攝影、戲劇等）(必選)</label>
        <div class="options">
          <label><input type="radio" name="q4" value="1" required> 非常不同意</label>
          <label><input type="radio" name="q4" value="2"> 不同意</label>
          <label><input type="radio" name="q4" value="3"> 普通</label>
          <label><input type="radio" name="q4" value="4"> 同意</label>
          <label><input type="radio" name="q4" value="5"> 非常同意</label>
        </div>
      </div>
      <div class="question">
        <label>5. 我喜歡表演與群體中的展現 (必選)</label>
        <div class="options">
          <label><input type="radio" name="q5" value="1" required> 非常不同意</label>
          <label><input type="radio" name="q5" value="2"> 不同意</label>
          <label><input type="radio" name="q5" value="3"> 普通</label>
          <label><input type="radio" name="q5" value="4"> 同意</label>
          <label><input type="radio" name="q5" value="5"> 非常同意</label>
        </div>
      </div>

      <!-- 屬性多選 -->
      <div class="question">
        <label>6. 你想參與哪些社團屬性？(可多選，至少選一個)</label>
        <div class="checkbox-group" id="clubAttributes">
          <label><input type="checkbox" name="attributes" value="服務"> 服務</label>
          <label><input type="checkbox" name="attributes" value="學術"> 學術</label>
          <label><input type="checkbox" name="attributes" value="藝術"> 藝術</label>
          <label><input type="checkbox" name="attributes" value="音樂"> 音樂</label>
          <label><input type="checkbox" name="attributes" value="體能"> 體能</label>
          <label><input type="checkbox" name="attributes" value="休閒聯誼"> 休閒聯誼</label>
        </div>
      </div>

      <button class="submit-btn" type="button" onclick="submitForm()">送出問卷並推薦社團</button>
    </form>

    <div class="result" id="result">
      <h2>🎉 為你推薦的社團</h2>
      <div id="clubResults"></div>
    </div>
  </div>

  <script>
    // 社團資料（屬性 + 特質評分）
    const clubs = [
      // 服務性社團
      { name: "同舟共濟服務社", attributes: ["服務"], traits: [3,4,2,3,2], tags: ["#服務", "#關懷"], desc: "致力於校園服務與公益活動" },
      { name: "醒新愛愛服務社", attributes: ["服務"], traits: [2,3,2,2,3], tags: ["#服務", "#志工"], desc: "參與志願服務，助人為快樂之本" },
      { name: "急救康輔社", attributes: ["服務"], traits: [1,3,3,1,4], tags: ["#急救", "#健康"], desc: "學習急救知識與健康促進" },
      // 學術性社團
      { name: "健言社", attributes: ["學術"], traits: [2,3,4,2,1], tags: ["#學術", "#討論"], desc: "熱愛學術研究與知識分享" },
      { name: "大千社", attributes: ["學術"], traits: [3,3,3,3,2], tags: ["#學術", "#文化"], desc: "多元學術與文化交流" },
      { name: "天文社", attributes: ["學術"], traits: [1,2,5,2,2], tags: ["#天文", "#探索"], desc: "探索宇宙的奧秘" },
      // 藝術性社團
      { name: "書法社", attributes: ["藝術"], traits: [2,2,3,5,2], tags: ["#藝術", "#書法"], desc: "傳承書法藝術與美感" },
      { name: "攝影社", attributes: ["藝術"], traits: [2,2,4,5,3], tags: ["#藝術", "#攝影"], desc: "用鏡頭捕捉生活美好瞬間" },
      { name: "戲劇社", attributes: ["藝術"], traits: [3,3,2,5,5], tags: ["#藝術", "#表演"], desc: "舞台劇與表演藝術" },
      // 音樂性社團
      { name: "管弦樂社", attributes: ["音樂"], traits: [5,5,2,4,5], tags: ["#音樂", "#合奏"], desc: "喜愛管弦樂演奏" },
      { name: "鋼琴社", attributes: ["音樂"], traits: [2,3,2,5,3], tags: ["#音樂", "#鋼琴"], desc: "喜歡鋼琴演奏與學習" },
      { name: "烏克麗麗社", attributes: ["音樂"], traits: [3,3,2,5,3], tags: ["#音樂", "#烏克麗麗"], desc: "輕鬆彈奏，歡樂共享" },
      // 體能性社團
      { name: "羽球社", attributes: ["體能"], traits: [4,4,2,1,2], tags: ["#體能", "#運動"], desc: "熱愛羽球運動，健身兼社交" },
      { name: "登山社", attributes: ["體能"], traits: [3,4,1,1,2], tags: ["#體能", "#戶外"], desc: "登山健行，挑戰自我" },
      { name: "跑步社", attributes: ["體能"], traits: [4,4,1,1,1], tags: ["#體能", "#跑步"], desc: "一起奔跑，享受健康生活" },
      // 休閒聯誼性社團
      { name: "動漫社", attributes: ["休閒聯誼"], traits: [2,2,3,5,1], tags: ["#休閒", "#動漫"], desc: "分享動漫文化，輕鬆交流" },
      { name: "桌上遊戲社", attributes: ["休閒聯誼"], traits: [3,3,2,1,3], tags: ["#休閒", "#遊戲"], desc: "桌遊同好，一起玩樂" },
      { name: "咖啡研究社", attributes: ["休閒聯誼"], traits: [1,1,3,3,1], tags: ["#休閒", "#咖啡"], desc: "研究咖啡文化與品味" }
    ];

    function submitForm() {
      const form = document.getElementById("form");

      // 檢查必填
      const requiredRadios = ["q1","q2","q3","q4","q5"];
      for (const q of requiredRadios) {
        if (!document.querySelector(`input[name="${q}"]:checked`)) {
          alert("請完成所有選擇題！");
          return;
        }
      }
      // 檢查屬性多選至少一個
      const checkedAttrs = Array.from(document.querySelectorAll('input[name="attributes"]:checked'));
      if (checkedAttrs.length === 0) {
        alert("請至少選擇一個社團屬性！");
        return;
      }
      const attrs = checkedAttrs.map(c => c.value);

      // 取得問卷分數
      const q = requiredRadios.map(q => parseInt(document.querySelector(`input[name="${q}"]:checked`).value));

      // 計算社團分數，且屬性須符合
      const filteredClubs = clubs.filter(club => club.attributes.some(a => attrs.includes(a)));

      filteredClubs.forEach(club => {
        club.score = club.traits.reduce((sum, t, i) => sum + t * q[i], 0);
      });

      filteredClubs.sort((a,b) => b.score - a.score);

      // 顯示前三推薦
      const resultDiv = document.getElementById("clubResults");
      resultDiv.innerHTML = "";
      filteredClubs.slice(0,3).forEach((club, i) => {
        resultDiv.innerHTML += `
          <div class="club-card">
            <h3>${["🥇","🥈","🥉"][i]} ${club.name}</h3>
            <div class="tags">${club.tags.join(" ")}</div>
            <p>${club.desc}</p>
            <p class="score">推薦分數：${club.score}</p>
          </div>`;
      });

      document.getElementById("result").style.display = "block";

      // 滾動到結果區
      document.getElementById("result").scrollIntoView({behavior:"smooth"});
    }
  </script>
</body>
</html>
